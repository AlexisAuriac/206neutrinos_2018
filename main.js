// Generated by CoffeeScript 2.4.1
(function() {
  var dispRecords, handleInput, parser, records, rl, updateRecords;

  parser = require("./src/argvParser.js");

  updateRecords = require("./src/updateRecords.js");

  // [n, a, h, sd] = parser process.argv.slice(1)
  records = parser(process.argv.slice(1));

  rl = require('readline').createInterface({
    input: process.stdin,
    output: process.stdout,
    terminal: true
  });

  console.log(records);

  rl.setPrompt("Enter next value: ");

  dispRecords = function({n, a, h, sd}) {
    return console.log(`\tNumber of values:	${n}\n\tStandard deviation	0\n\tArithmetic mean:	0\n\tRoot mean square:	0\n\tHarmonic mean:		0\n`);
  };

  handleInput = function(input) {
    if (input === "END") {
      process.exit(0);
    }
    updateRecords(input, records);
    dispRecords(records);
    return rl.prompt();
  };

  rl.prompt();

  rl.on('line', handleInput);

}).call(this);
